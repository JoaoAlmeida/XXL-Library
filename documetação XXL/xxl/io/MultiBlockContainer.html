<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Fri Jan 26 20:29:45 CET 2001 -->
<TITLE>
XXL - The eXtensible and fleXible Library for data processing: Class  MultiBlockContainer
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href=http://www.mathematik.uni-marburg.de/DBS/xxl target=_parent><img src=xxl.gif border=0 alt=home-page></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../xxl/io/LRUBuffer.Slot.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../xxl/io/ObjectArrayConverter.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MultiBlockContainer.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
xxl.io</FONT>
<BR>
Class  MultiBlockContainer</H2>
<PRE>
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">java.lang.Object</A>
  |
  +--<A HREF="../../xxl/collections/Container.html">xxl.collections.Container</A>
        |
        +--<A HREF="../../xxl/io/BlockFileContainer.html">xxl.io.BlockFileContainer</A>
              |
              +--<B>xxl.io.MultiBlockContainer</B>
</PRE>
<HR>
<DL>
<DT>public class <B>MultiBlockContainer</B><DT>extends <A HREF="../../xxl/io/BlockFileContainer.html">BlockFileContainer</A></DL>

<P>
This class provides a container that is able to store logical blocks
 whose whose size is a multiple of <tt>blockSize</tt> in a file. <p>

 The implementation is based on two <tt>BlockFileContainer</tt>s:<br>
 one serving as a primary container for the first physical block, and
 the other storing the remaining physical blocks as a linked list of
 blocks.<br>
 Therefore, every logical block stored in the container is separated
 into physical blocks of (<code>blockSize-LongConverter.SIZE</code>)
 bytes and every physical block stores the id of the next physical
 block (so the size of a physical block is <tt>blockSize</tt>). The end
 of this linked list of physical blocks is marked by a negative id. This
 id is given by the <tt>Long</tt> object
 <code>new Long(-1-logicalBlock.size)</code> and determines the size of
 the logical block.<br>
 The first physical block of the linked list of physical blocks is
 inserted into this container (the primary container) and the rest of
 the physical blocks are inserted into the secondary container.<br>
 Because it is based on two containers, the multi block container
 depends on six files. The three files that names are determined by the
 <tt>String "Primary"+prefix</tt> store the primary container and the
 three files that names are determined by the <tt>String
 "Secondary"+prefix</tt> store the secondary container.<p>

 Example usage (1).
 <pre>
     // create a new multi block container with ...

     MultiBlockContainer container = new MultiBlockContainer(

         // files having the file name "MultiBlockContainer"

         "MultiBlockContainer",

         // a block size of 11 bytes (8 bytes for the longs pointing to the next container and 3
         // bytes for data)

         11
     );

     // insert 10 blocks containing double values (8 bytes)

     for (int i = 1; i < 11; i++) {

         // create a new block of 8 bytes

         Block block = new Block(8);

         // catch IOExceptions

         try {

             // write the value of i*pi to the block

             DoubleConverter.DEFAULT_INSTANCE.writeDouble(block.dataOutputStream(), i*Math.PI);
         }
         catch (IOException ioe) {
             System.out.println("An I/O error occured.");
         }

         // insert the block into the multi block container

         container.insert(block);
     }

     // get the ids of all elements in the container

     Iterator iterator = container.ids();

     // print all elements of the container

     while (iterator.hasNext()) {

         // get the block from the container

         Block block = (Block)container.get(iterator.next());

         // catch IOExceptions

         try {

             // print the data of the block

             System.out.println(DoubleConverter.DEFAULT_INSTANCE.readDouble(block.dataInputStream()));
         }
         catch (IOException ioe) {
             System.out.println("An I/O error occured.");
         }
     }

     // close the open container and clear its file after use

     container.clear();
     container.close();
 </pre>
<P>
<DL>
<DT><B>See Also: </B><DD><A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/ArrayList.html"><CODE>ArrayList</CODE></A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/io/ByteArrayInputStream.html"><CODE>ByteArrayInputStream</CODE></A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/io/ByteArrayOutputStream.html"><CODE>ByteArrayOutputStream</CODE></A>, 
<A HREF="../../xxl/collections/Container.html"><CODE>Container</CODE></A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/io/DataInputStream.html"><CODE>DataInputStream</CODE></A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/io/DataOutputStream.html"><CODE>DataOutputStream</CODE></A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/io/IOException.html"><CODE>IOException</CODE></A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/List.html"><CODE>List</CODE></A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/NoSuchElementException.html"><CODE>NoSuchElementException</CODE></A></DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../xxl/collections/Container.html">Container</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#secondaryContainer">secondaryContainer</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The secondary container is a <tt>BlockFileContainer</tt> that is
 used for storing all the physical blocks of a logical block except
 the first.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_xxl.io.BlockFileContainer"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class xxl.io.<A HREF="../../xxl/io/BlockFileContainer.html">BlockFileContainer</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../xxl/io/BlockFileContainer.html#blockSize">blockSize</A>,  
<A HREF="../../xxl/io/BlockFileContainer.html#container">container</A>,  
<A HREF="../../xxl/io/BlockFileContainer.html#fat">fat</A>,  
<A HREF="../../xxl/io/BlockFileContainer.html#freeList">freeList</A>,  
<A HREF="../../xxl/io/BlockFileContainer.html#maxOffset">maxOffset</A>,  
<A HREF="../../xxl/io/BlockFileContainer.html#prefix">prefix</A>,  
<A HREF="../../xxl/io/BlockFileContainer.html#size">size</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_xxl.collections.Container"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class xxl.collections.<A HREF="../../xxl/collections/Container.html">Container</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../xxl/collections/Container.html#FACTORY_METHOD">FACTORY_METHOD</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#MultiBlockContainer(java.lang.String, int)">MultiBlockContainer</A></B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/String.html">String</A>&nbsp;prefix,
                    int&nbsp;blockSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs an empty MultiBlockContainer that is able to store
 blocks with a size larger than <tt>blockSize</tt> bytes.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#clear()">clear</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes all elements from the Container.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Closes the Container and releases its associated files.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#get(java.lang.Object, boolean)">get</A></B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;id,
    boolean&nbsp;unfix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the logical block associated to the identifier <tt>id</tt>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Long.html">Long</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#getId(xxl.io.Block)">getId</A></B>(<A HREF="../../xxl/io/Block.html">Block</A>&nbsp;block)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the id of the next block in the linked list of physical
 block that is stored in the specified block.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../xxl/io/Block.html">Block</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#getLogicalBlock(java.util.List, int)">getLogicalBlock</A></B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/List.html">List</A>&nbsp;blockList,
                int&nbsp;size)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the logical block that is given by the specified list of
 physical blocks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/List.html">List</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#getPhysicalBlocks(xxl.io.Block)">getPhysicalBlocks</A></B>(<A HREF="../../xxl/io/Block.html">Block</A>&nbsp;logicalBlock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a list of physical blocks that represent the specified
 logical block.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#insert(java.lang.Object, boolean)">insert</A></B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;object,
       boolean&nbsp;unfix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inserts a new logical block into the container and returns the
 identifier of the block in the container.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#main(java.lang.String[])">main</A></B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/String.html">String</A>[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The main method contains some examples how to use a
 MultiBlockContainer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#remove(java.lang.Object)">remove</A></B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the logical block with identifier <tt>id</tt>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#setId(xxl.io.Block, java.lang.Object)">setId</A></B>(<A HREF="../../xxl/io/Block.html">Block</A>&nbsp;block,
      <A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the id stored in the specified block to the specified object
 and returns the number of bytes that are taken by the converted id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../xxl/io/MultiBlockContainer.html#update(java.lang.Object, java.lang.Object, boolean)">update</A></B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;id,
       <A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;object,
       boolean&nbsp;unfix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overwrites an existing (id,*)-element by (id, object).</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_xxl.io.BlockFileContainer"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class xxl.io.<A HREF="../../xxl/io/BlockFileContainer.html">BlockFileContainer</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../xxl/io/BlockFileContainer.html#blockSize()">blockSize</A>, 
<A HREF="../../xxl/io/BlockFileContainer.html#contains(java.lang.Object)">contains</A>, 
<A HREF="../../xxl/io/BlockFileContainer.html#ids()">ids</A>, 
<A HREF="../../xxl/io/BlockFileContainer.html#objectIdConverter()">objectIdConverter</A>, 
<A HREF="../../xxl/io/BlockFileContainer.html#open()">open</A>, 
<A HREF="../../xxl/io/BlockFileContainer.html#reset()">reset</A>, 
<A HREF="../../xxl/io/BlockFileContainer.html#size()">size</A>, 
<A HREF="../../xxl/io/BlockFileContainer.html#unfix(java.lang.Object)">unfix</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_xxl.collections.Container"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class xxl.collections.<A HREF="../../xxl/collections/Container.html">Container</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../xxl/collections/Container.html#flush()">flush</A>, 
<A HREF="../../xxl/collections/Container.html#flush(java.lang.Object)">flush</A>, 
<A HREF="../../xxl/collections/Container.html#get(java.lang.Object)">get</A>, 
<A HREF="../../xxl/collections/Container.html#getAll(java.util.Iterator)">getAll</A>, 
<A HREF="../../xxl/collections/Container.html#getAll(java.util.Iterator, boolean)">getAll</A>, 
<A HREF="../../xxl/collections/Container.html#insert(java.lang.Object)">insert</A>, 
<A HREF="../../xxl/collections/Container.html#insertAll(java.util.Iterator)">insertAll</A>, 
<A HREF="../../xxl/collections/Container.html#insertAll(java.util.Iterator, boolean)">insertAll</A>, 
<A HREF="../../xxl/collections/Container.html#objects()">objects</A>, 
<A HREF="../../xxl/collections/Container.html#removeAll(java.util.Iterator)">removeAll</A>, 
<A HREF="../../xxl/collections/Container.html#unfixAll(java.util.Iterator)">unfixAll</A>, 
<A HREF="../../xxl/collections/Container.html#update(java.lang.Object, java.lang.Object)">update</A>, 
<A HREF="../../xxl/collections/Container.html#updateAll(java.util.Iterator, xxl.functions.Function)">updateAll</A>, 
<A HREF="../../xxl/collections/Container.html#updateAll(java.util.Iterator, xxl.functions.Function, boolean)">updateAll</A>, 
<A HREF="../../xxl/collections/Container.html#updateAll(java.util.Iterator, java.util.Iterator)">updateAll</A>, 
<A HREF="../../xxl/collections/Container.html#updateAll(java.util.Iterator, java.util.Iterator, boolean)">updateAll</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html#clone()">clone</A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html#equals(java.lang.Object)">equals</A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html#finalize()">finalize</A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html#getClass()">getClass</A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html#hashCode()">hashCode</A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html#notify()">notify</A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html#notifyAll()">notifyAll</A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html#toString()">toString</A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html#wait()">wait</A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html#wait(long)">wait</A>, 
<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html#wait(long, int)">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="secondaryContainer"><!-- --></A><H3>
secondaryContainer</H3>
<PRE>
protected <A HREF="../../xxl/collections/Container.html">Container</A> <B>secondaryContainer</B></PRE>
<DL>
<DD>The secondary container is a <tt>BlockFileContainer</tt> that is
 used for storing all the physical blocks of a logical block except
 the first. <br>
 When separating a logical block into physical blocks, every
 physical block stores the id of the next physical block. The head
 of this linked list is stored in the multi block container and the
 rest in this secondary container.</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="MultiBlockContainer(java.lang.String, int)"><!-- --></A><H3>
MultiBlockContainer</H3>
<PRE>
public <B>MultiBlockContainer</B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/String.html">String</A>&nbsp;prefix,
                           int&nbsp;blockSize)</PRE>
<DL>
<DD>Constructs an empty MultiBlockContainer that is able to store
 blocks with a size larger than <tt>blockSize</tt> bytes. The given
 <tt>String prefix</tt> specifies the names of the files the are
 used for storing the elements of the container. When using existing
 files to store the container their data will be overwritten.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>prefix</CODE> - specifies the names of the files the container
        consists of.<DD><CODE>blockSize</CODE> - the size of the physical blocks that are used for
        storing a logical block in the container.</DL>
</DD>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getId(xxl.io.Block)"><!-- --></A><H3>
getId</H3>
<PRE>
protected <A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Long.html">Long</A> <B>getId</B>(<A HREF="../../xxl/io/Block.html">Block</A>&nbsp;block)</PRE>
<DL>
<DD>Returns the id of the next block in the linked list of physical
 block that is stored in the specified block. Because logical blocks
 are stored in the container as linked lists of physical blocks,
 every block stores the id of the next block in the linked list.
 This method reads an <tt>Long</tt> object from the beginning of the
 specified block and returns it.<br>
 When an <tt>IOException</tt> occurs, <tt>null</tt> is returned.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>block</CODE> - the <tt>Block</tt> <i>whose</i> id should be read.<DT><B>Returns:</B><DD>the id of the next physical block in the linked list or
         <tt>null</tt> if an <tt>IOException</tt> occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="setId(xxl.io.Block, java.lang.Object)"><!-- --></A><H3>
setId</H3>
<PRE>
protected int <B>setId</B>(<A HREF="../../xxl/io/Block.html">Block</A>&nbsp;block,
                    <A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;id)</PRE>
<DL>
<DD>Sets the id stored in the specified block to the specified object
 and returns the number of bytes that are taken by the converted id.
 This method writes the specified object to the block by using a
 <tt>LongConverter</tt>.<br>
 When an <tt>IOException</tt> occurs, <tt>0</tt> is returned.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>block</CODE> - the <tt>Block</tt> <i>whose</i> id should be set.<DD><CODE>id</CODE> - the object that should be stored in the block as id of
        the next physical block in the linked list.<DT><B>Returns:</B><DD>the number of bytes that are taken by the converted id or
         <tt>0</tt> if an <tt>IOException</tt> occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="getLogicalBlock(java.util.List, int)"><!-- --></A><H3>
getLogicalBlock</H3>
<PRE>
protected <A HREF="../../xxl/io/Block.html">Block</A> <B>getLogicalBlock</B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/List.html">List</A>&nbsp;blockList,
                                int&nbsp;size)</PRE>
<DL>
<DD>Returns the logical block that is given by the specified list of
 physical blocks. The data of the logical block starts at offset
 <tt>LongConverter.SIZE</tt> of the physiacl blocks (because the id
 of the next block is stored at the beginning of each block) and the
 given size specifies the size of the logical block.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>blockList</CODE> - the list that contains the physiacl blocks
        representing the logical block.<DD><CODE>size</CODE> - the size of the logical block represented by the list
        of physical blocks.<DT><B>Returns:</B><DD>the logical block that is represented by the specified list
         of physical blocks.</DL>
</DD>
</DL>
<HR>

<A NAME="getPhysicalBlocks(xxl.io.Block)"><!-- --></A><H3>
getPhysicalBlocks</H3>
<PRE>
protected <A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/List.html">List</A> <B>getPhysicalBlocks</B>(<A HREF="../../xxl/io/Block.html">Block</A>&nbsp;logicalBlock)</PRE>
<DL>
<DD>Returns a list of physical blocks that represent the specified
 logical block. The logical block is separated into physical blocks
 of (<code>blockSize-LongConverter.SIZE</code>) bytes. The first
 <tt>LongConverter.SIZE</tt>. bytes of each physical block are
 reserved for the id of the next physical block (so the size of a
 physical block is <tt>blockSize</tt>).<DD><DL>
<DT><B>Parameters:</B><DD><CODE>logicalBlock</CODE> - the logical block that should be separated into
        physical blocks of </tt>blockSize</tt> bytes.<DT><B>Returns:</B><DD>a list of physical blocks that represents the specified
         logical block.</DL>
</DD>
</DL>
<HR>

<A NAME="clear()"><!-- --></A><H3>
clear</H3>
<PRE>
public void <B>clear</B>()</PRE>
<DL>
<DD>Removes all elements from the Container. After a call of this
 method, <tt>size()</tt> will return 0.<br>
 This implementation calls the clear methods of the primary and the
 secondary container.<DD><DL>
<DT><B>Overrides:</B><DD><A HREF="../../xxl/io/BlockFileContainer.html#clear()">clear</A> in class <A HREF="../../xxl/io/BlockFileContainer.html">BlockFileContainer</A></DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()</PRE>
<DL>
<DD>Closes the Container and releases its associated files. <br>
 This implementation calls the close methods of the primary and the
 secondary container. A closed container can be implicit reopened by
 a consecutive call to one of its methods.<DD><DL>
<DT><B>Overrides:</B><DD><A HREF="../../xxl/io/BlockFileContainer.html#close()">close</A> in class <A HREF="../../xxl/io/BlockFileContainer.html">BlockFileContainer</A></DL>
</DD>
</DL>
<HR>

<A NAME="get(java.lang.Object, boolean)"><!-- --></A><H3>
get</H3>
<PRE>
public <A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A> <B>get</B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;id,
                  boolean&nbsp;unfix)
           throws <A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/NoSuchElementException.html">NoSuchElementException</A></PRE>
<DL>
<DD>Returns the logical block associated to the identifier <tt>id</tt>.
 An exception is thrown when the desired block is not found. If
 unfix, the block can be removed from the underlying buffer.
 Otherwise (!unfix), the block has to be kept in the buffer.<br>
 In this implementation the parameter unfix has no function because
 the container is unbuffered.<DD><DL>
<DT><B>Overrides:</B><DD><A HREF="../../xxl/io/BlockFileContainer.html#get(java.lang.Object, boolean)">get</A> in class <A HREF="../../xxl/io/BlockFileContainer.html">BlockFileContainer</A></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - identifier of the logical block.<DD><CODE>unfix</CODE> - signals whether the object can be removed from the
        underlying buffer.<DT><B>Returns:</B><DD>the logical block associated to the specified identifier.<DT><B>Throws:</B><DD><A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/NoSuchElementException.html">NoSuchElementException</A> - if the desired block is not found.</DL>
</DD>
</DL>
<HR>

<A NAME="insert(java.lang.Object, boolean)"><!-- --></A><H3>
insert</H3>
<PRE>
public <A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A> <B>insert</B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;object,
                     boolean&nbsp;unfix)</PRE>
<DL>
<DD>Inserts a new logical block into the container and returns the
 identifier of the block in the container. <br>
 The logical block is separated into physical blocks of
 (<code>blockSize-LongConverter.SIZE</code>) bytes by using the
 getPhysicalBlocks method. Thereafter the id of the last block in
 the list of physical blocks is set to
 <code>new Long(-1-logicalBlock.size)</code> and the block is
 inserted into the secondary container. The id of the previos block
 in the list is set to the id returned by the insert method and it
 is also inserted into the secondary container and so on. When
 reaching the first physical block in the list, its id is set to the
 id returned by the insert method and it is inserted into the
 primary container. At last, the id that is returned by the insert
 method of the primary container is returned as result of this
 method. The parameter unfix has no function because this container
 is unbuffered.<DD><DL>
<DT><B>Overrides:</B><DD><A HREF="../../xxl/io/BlockFileContainer.html#insert(java.lang.Object, boolean)">insert</A> in class <A HREF="../../xxl/io/BlockFileContainer.html">BlockFileContainer</A></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>object</CODE> - the new logical block that should be inserted into
        the container.<DD><CODE>unfix</CODE> - signals a buffered container whether the block can
        be removed from the underlying buffer.<DT><B>Returns:</B><DD>the identifier of the logical block.</DL>
</DD>
</DL>
<HR>

<A NAME="remove(java.lang.Object)"><!-- --></A><H3>
remove</H3>
<PRE>
public void <B>remove</B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;id)
            throws <A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/NoSuchElementException.html">NoSuchElementException</A></PRE>
<DL>
<DD>Removes the logical block with identifier <tt>id</tt>. An exception
 is thrown when a block with an identifier <tt>id</tt> is not in the
 container. After a call of <tt>remove()</tt> all the iterators (and
 cursors) can be in an invalid state.<br>
 This implementation follows the linked list of physical blocks that
 represents the logical block and removes every physical block from
 the primary and secondary container.<DD><DL>
<DT><B>Overrides:</B><DD><A HREF="../../xxl/io/BlockFileContainer.html#remove(java.lang.Object)">remove</A> in class <A HREF="../../xxl/io/BlockFileContainer.html">BlockFileContainer</A></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - an identifier of a logical block.<DT><B>Throws:</B><DD><A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/NoSuchElementException.html">NoSuchElementException</A> - if a block with an identifier
         <tt>id</tt> is not in the container.</DL>
</DD>
</DL>
<HR>

<A NAME="update(java.lang.Object, java.lang.Object, boolean)"><!-- --></A><H3>
update</H3>
<PRE>
public void <B>update</B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;id,
                   <A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/Object.html">Object</A>&nbsp;object,
                   boolean&nbsp;unfix)
            throws <A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/NoSuchElementException.html">NoSuchElementException</A></PRE>
<DL>
<DD>Overwrites an existing (id,*)-element by (id, object). This method
 throws an exception if a logical block with an identifier
 <tt>id</tt> does not exist in the container.<br>
 This implementation separates the specified logical block into a
 list of logical blocks. Thereafter it follows the linked list of
 physical blocks that represents the logical block and updates every
 existing physical block by the new physical block. When the logical
 block to update is larger than the new logical block (the linked
 list contains more physical blocks), the remaining old physical
 blocks are removed from the secondary container. When the new
 logical block is larger than the logical block to update, the
 remaining new physical blocks are inserted into the seconadary
 container. The parameter unfix has no function because this
 container is unbuffered.<DD><DL>
<DT><B>Overrides:</B><DD><A HREF="../../xxl/io/BlockFileContainer.html#update(java.lang.Object, java.lang.Object, boolean)">update</A> in class <A HREF="../../xxl/io/BlockFileContainer.html">BlockFileContainer</A></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - identifier of the element.<DD><CODE>object</CODE> - the new logical block that should be associated to
        <tt>id</tt>.<DD><CODE>unfix</CODE> - signals a buffered container whether the block can be
        removed from the underlying buffer.<DT><B>Throws:</B><DD><A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/util/NoSuchElementException.html">NoSuchElementException</A> - if a block with an identifier
         <tt>id</tt> does not exist in the container.</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(<A HREF="http://java.sun.com/products/jdk/1.2/docs/api/java/lang/String.html">String</A>[]&nbsp;args)</PRE>
<DL>
<DD>The main method contains some examples how to use a
 MultiBlockContainer. It can also be used to test the functionality
 of a MultiBlockContainer.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>args</CODE> - array of <tt>String</tt> arguments. It can be used to
        submit parameters when the main method is called.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<a href=http://www.mathematik.uni-marburg.de/DBS/xxl target=_parent><img src=xxl.gif border=0 alt=home-page></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../xxl/io/LRUBuffer.Slot.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../xxl/io/ObjectArrayConverter.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MultiBlockContainer.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
